function bareObj(e){return e}function functionReturningObj(e){return function(){return e}}module("attributes",{teardown:moduleTeardown}),test("jQuery.propFix integrity test",function(){expect(1);var e={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};deepEqual(e,jQuery.propFix,"jQuery.propFix passes integrity check")}),test("attr(String)",function(){expect(50);var e,t,n,r,i,s,o,u,a,f,l;equal(jQuery("#text1").attr("type"),"text","Check for type attribute"),equal(jQuery("#radio1").attr("type"),"radio","Check for type attribute"),equal(jQuery("#check1").attr("type"),"checkbox","Check for type attribute"),equal(jQuery("#simon1").attr("rel"),"bookmark","Check for rel attribute"),equal(jQuery("#google").attr("title"),"Google!","Check for title attribute"),equal(jQuery("#mark").attr("hreflang"),"en","Check for hreflang attribute"),equal(jQuery("#en").attr("lang"),"en","Check for lang attribute"),equal(jQuery("#simon").attr("class"),"blog link","Check for class attribute"),equal(jQuery("#name").attr("name"),"name","Check for name attribute"),equal(jQuery("#text1").attr("name"),"action","Check for name attribute"),ok(jQuery("#form").attr("action").indexOf("formaction")>=0,"Check for action attribute"),equal(jQuery("#text1").attr("value","t").attr("value"),"t","Check setting the value attribute"),equal(jQuery("#text1").attr("value","").attr("value"),"","Check setting the value attribute to empty string"),equal(jQuery("<div value='t'></div>").attr("value"),"t","Check setting custom attr named 'value' on a div"),equal(jQuery("#form").attr("blah","blah").attr("blah"),"blah","Set non-existent attribute on a form"),equal(jQuery("#foo").attr("height"),undefined,"Non existent height attribute should return undefined"),e=jQuery("<input id='id' name='id' /><input id='name' name='name' /><input id='target' name='target' />").appendTo("#testForm"),equal(jQuery("#form").attr("action","newformaction").attr("action"),"newformaction","Check that action attribute was changed"),equal(jQuery("#testForm").attr("target"),undefined,"Retrieving target does not equal the input with name=target"),equal(jQuery("#testForm").attr("target","newTarget").attr("target"),"newTarget","Set target successfully on a form"),equal(jQuery("#testForm").removeAttr("id").attr("id"),undefined,"Retrieving id does not equal the input with name=id after id is removed [#7472]"),equal(jQuery("#testForm").attr("name"),undefined,"Retrieving name does not retrieve input with name=name"),e.remove(),equal(jQuery("#text1").attr("maxlength"),"30","Check for maxlength attribute"),equal(jQuery("#text1").attr("maxLength"),"30","Check for maxLength attribute"),equal(jQuery("#area1").attr("maxLength"),"30","Check for maxLength attribute"),jQuery("<a/>").attr({id:"tAnchor5",href:"#5"}).appendTo("#qunit-fixture"),equal(jQuery("#tAnchor5").attr("href"),"#5","Check for non-absolute href (an anchor)"),jQuery("<a id='tAnchor6' href='#5' />").appendTo("#qunit-fixture"),equal(jQuery("#tAnchor5").prop("href"),jQuery("#tAnchor6").prop("href"),"Check for absolute href prop on an anchor"),$("<script type='jquery/test' src='#5' id='scriptSrc'></script>").appendTo("#qunit-fixture"),equal(jQuery("#tAnchor5").prop("href"),jQuery("#scriptSrc").prop("src"),"Check for absolute src prop on a script"),jQuery("#list-test").attr("list","datalist"),equal(jQuery("#list-test").attr("list"),"datalist","Check setting list attribute"),t=document.body,n=jQuery(t),strictEqual(n.attr("foo"),undefined,"Make sure that a non existent attribute returns undefined"),t.setAttribute("foo","baz"),equal(n.attr("foo"),"baz","Make sure the dom attribute is retrieved when no expando is found"),n.attr("foo","cool"),equal(n.attr("foo"),"cool","Make sure that setting works well when both expando and dom attribute are available"),t.removeAttribute("foo"),r=document.createElement("select"),i=document.createElement("optgroup"),s=document.createElement("option"),i.appendChild(s),r.appendChild(i),equal(jQuery(s).prop("selected"),!0,"Make sure that a single option is selected, even when in an optgroup."),o=jQuery("<img style='display:none' width='215' height='53' src='data/1x1.jpg'/>").appendTo("body"),equal(o.attr("width"),"215","Retrieve width attribute an an element with display:none."),equal(o.attr("height"),"53","Retrieve height attribute an an element with display:none."),u=jQuery("<div/>").appendTo("#qunit-fixture").css({background:"url(UPPERlower.gif)"}),ok(!!~u.attr("style").indexOf("UPPERlower.gif"),"Check style attribute getter"),ok(!!~u.attr("style","position:absolute;").attr("style").indexOf("absolute"),"Check style setter"),a=jQuery("<button>text</button>").insertAfter("#button"),strictEqual(a.attr("value"),undefined,"Absence of value attribute on a button"),equal(a.attr("value","foobar").attr("value"),"foobar","Value attribute on a button does not return innerHTML"),equal(a.attr("value","baz").html(),"text","Setting the value attribute does not change innerHTML"),equal(jQuery("#table").attr("test:attrib"),undefined,"Retrieving a non-existent attribute on a table with a colon does not throw an error."),equal(jQuery("#table").attr("test:attrib","foobar").attr("test:attrib"),"foobar","Setting an attribute on a table with a colon does not throw an error."),f=jQuery("<form class='something'></form>").appendTo("#qunit-fixture"),equal(f.attr("class"),"something","Retrieve the class attribute on a form."),l=jQuery("<a href='#' onclick='something()'>Click</a>").appendTo("#qunit-fixture"),equal(l.attr("onclick"),"something()","Retrieve ^on attribute without anonymous function wrapper."),ok(jQuery("<div/>").attr("doesntexist")===undefined,"Make sure undefined is returned when no attribute is found."),ok(jQuery("<div/>").attr("title")===undefined,"Make sure undefined is returned when no attribute is found."),equal(jQuery("<div/>").attr("title","something").attr("title"),"something","Set the title attribute."),ok(jQuery().attr("doesntexist")===undefined,"Make sure undefined is returned when no element is there."),equal(jQuery("<div/>").attr("value"),undefined,"An unset value on a div returns undefined."),strictEqual(jQuery("<select><option value='property'></option></select>").attr("value"),undefined,"An unset value on a select returns undefined."),f=jQuery("#form").attr("enctype","multipart/form-data"),equal(f.prop("enctype"),"multipart/form-data","Set the enctype of a form (encoding in IE6/7 #6743)")}),test("attr(String) on cloned elements, #9646",function(){expect(4);var e,t=jQuery("<input name='tester' />");t.attr("name"),strictEqual(t.clone(!0).attr("name","test")[0].name,"test","Name attribute should be changed on cloned element"),e=jQuery("<div id='tester' />"),e.attr("id"),strictEqual(e.clone(!0).attr("id","test")[0].id,"test","Id attribute should be changed on cloned element"),t=jQuery("<input value='tester' />"),t.attr("value"),strictEqual(t.clone(!0).attr("value","test")[0].value,"test","Value attribute should be changed on cloned element"),strictEqual(t.clone(!0).attr("value",42)[0].value,"42","Value attribute should be changed on cloned element")}),test("attr(String) in XML Files",function(){expect(3);var e=createDashboardXML();equal(jQuery("locations",e).attr("class"),"foo","Check class attribute in XML document"),equal(jQuery("location",e).attr("for"),"bar","Check for attribute in XML document"),equal(jQuery("location",e).attr("checked"),"different","Check that hooks are not attached in XML document")}),test("attr(String, Function)",function(){expect(2),equal(jQuery("#text1").attr("value",function(){return this.id}).attr("value"),"text1","Set value from id"),equal(jQuery("#text1").attr("title",function(e){return e}).attr("title"),"0","Set value with an index")}),test("attr(Hash)",function(){expect(3);var e=!0;jQuery("div").attr({foo:"baz",zoo:"ping"}).each(function(){this.getAttribute("foo")!=="baz"&&this.getAttribute("zoo")!=="ping"&&(e=!1)}),ok(e,"Set Multiple Attributes"),equal(jQuery("#text1").attr({value:function(){return this.id}}).attr("value"),"text1","Set attribute to computed value #1"),equal(jQuery("#text1").attr({title:function(e){return e}}).attr("title"),"0","Set attribute to computed value #2")}),test("attr(String, Object)",function(){expect(71);var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g=jQuery("div").attr("foo","bar"),y=0,b=!1;for(;y<g.length;y++)if(g[y].getAttribute("foo")!=="bar"){b=y;break}equal(b,!1,"Set Attribute, the #"+b+" element didn't get the attribute 'foo'"),ok(jQuery("#foo").attr({width:null}),"Try to set an attribute to nothing"),jQuery("#name").attr("name","something"),equal(jQuery("#name").attr("name"),"something","Set name attribute"),jQuery("#name").attr("name",null),equal(jQuery("#name").attr("name"),undefined,"Remove name attribute"),e=jQuery("<input>",{name:"something",id:"specified"}),equal(e.attr("name"),"something","Check element creation gets/sets the name attribute."),equal(e.attr("id"),"specified","Check element creation gets/sets the id attribute."),e=jQuery("<input type='checkbox'/>").attr("checked",!0),equal(e.prop("checked"),!0,"Setting checked updates property (verified by .prop)"),equal(e[0].checked,!0,"Setting checked updates property (verified by native property)"),e=jQuery("<option/>").attr("selected",!0),equal(e.prop("selected"),!0,"Setting selected updates property (verified by .prop)"),equal(e[0].selected,!0,"Setting selected updates property (verified by native property)"),e=jQuery("#check2"),e.prop("checked",!0).prop("checked",!1).attr("checked",!0),equal(e.attr("checked"),"checked","Set checked (verified by .attr)"),e.prop("checked",!1).prop("checked",!0).attr("checked",!1),equal(e.attr("checked"),undefined,"Remove checked (verified by .attr)"),e=jQuery("#text1").prop("readOnly",!0).prop("readOnly",!1).attr("readonly",!0),equal(e.attr("readonly"),"readonly","Set readonly (verified by .attr)"),e.prop("readOnly",!1).prop("readOnly",!0).attr("readonly",!1),equal(e.attr("readonly"),undefined,"Remove readonly (verified by .attr)"),e=jQuery("#check2").attr("checked",!0).attr("checked",!1).prop("checked",!0),equal(e[0].checked,!0,"Set checked property (verified by native property)"),equal(e.prop("checked"),!0,"Set checked property (verified by .prop)"),equal(e.attr("checked"),undefined,"Setting checked property doesn't affect checked attribute"),e.attr("checked",!1).attr("checked",!0).prop("checked",!1),equal(e[0].checked,!1,"Clear checked property (verified by native property)"),equal(e.prop("checked"),!1,"Clear checked property (verified by .prop)"),equal(e.attr("checked"),"checked","Clearing checked property doesn't affect checked attribute"),e=jQuery("#check2").attr("checked",!1).attr("checked","checked"),equal(e.attr("checked"),"checked","Set checked to 'checked' (verified by .attr)"),v=jQuery("#checkedtest").find("input[type='radio']"),v.eq(1).trigger("click"),equal(v.eq(1).prop("checked"),!0,"Second radio was checked when clicked"),equal(v.eq(0).attr("checked"),"checked","First radio is still [checked]"),e=jQuery("#text1").attr("readonly",!1).prop("readOnly",!0),equal(e[0].readOnly,!0,"Set readonly property (verified by native property)"),equal(e.prop("readOnly"),!0,"Set readonly property (verified by .prop)"),e.attr("readonly",!0).prop("readOnly",!1),equal(e[0].readOnly,!1,"Clear readonly property (verified by native property)"),equal(e.prop("readOnly"),!1,"Clear readonly property (verified by .prop)"),e=jQuery("#name").attr("maxlength","5"),equal(e[0].maxLength,5,"Set maxlength (verified by native property)"),e.attr("maxLength","10"),equal(e[0].maxLength,10,"Set maxlength (verified by native property)"),t=jQuery("#text1").attr({autofocus:!0,required:!0}),equal(t.attr("autofocus"),"autofocus","Reading autofocus attribute yields 'autofocus'"),equal(t.attr("autofocus",!1).attr("autofocus"),undefined,"Setting autofocus to false removes it"),equal(t.attr("required"),"required","Reading required attribute yields 'required'"),equal(t.attr("required",!1).attr("required"),undefined,"Setting required attribute to false removes it"),n=jQuery("<details open></details>").appendTo("#qunit-fixture"),equal(n.attr("open"),"open","open attribute presence indicates true"),equal(n.attr("open",!1).attr("open"),undefined,"Setting open attribute to false removes it"),t.attr("data-something",!0),equal(t.attr("data-something"),"true","Set data attributes"),equal(t.data("something"),!0,"Setting data attributes are not affected by boolean settings"),t.attr("data-another",!1),equal(t.attr("data-another"),"false","Set data attributes"),equal(t.data("another"),!1,"Setting data attributes are not affected by boolean settings"),equal(t.attr("aria-disabled",!1).attr("aria-disabled"),"false","Setting aria attributes are not affected by boolean settings"),t.removeData("something").removeData("another").removeAttr("aria-disabled"),jQuery("#foo").attr("contenteditable",!0),equal(jQuery("#foo").attr("contenteditable"),"true","Enumerated attributes are set properly"),r=document.createAttribute("irrelevant"),i=document.createComment("some comment"),s=document.createTextNode("some text"),o={},jQuery.each([i,s,r],function(e,t){var n=jQuery(t);n.attr("nonexisting","foo"),strictEqual(n.attr("nonexisting"),undefined,"attr(name, value) works correctly on comment and text nodes (bug #7500).")}),Globals.register("nonexisting"),jQuery.each([window,document,o,"#firstp"],function(e,t){var n=t.nonexisting,r=jQuery(t);strictEqual(r.attr("nonexisting"),undefined,"attr works correctly for non existing attributes (bug #7500)."),equal(r.attr("nonexisting","foo").attr("nonexisting"),"foo","attr falls back to prop on unsupported arguments"),t.nonexisting=n}),u=jQuery("#table").append("<tr><td>cell</td></tr><tr><td>cell</td><td>cell</td></tr><tr><td>cell</td><td>cell</td></tr>"),a=u.find("td").eq(0),a.attr("rowspan","2"),equal(a[0].rowSpan,2,"Check rowspan is correctly set"),a.attr("colspan","2"),equal(a[0].colSpan,2,"Check colspan is correctly set"),u.attr("cellspacing","2"),equal(u[0].cellSpacing,"2","Check cellspacing is correctly set"),equal(jQuery("#area1").attr("value"),undefined,"Value attribute is distinct from value property."),jQuery("#name").attr("someAttr","0"),equal(jQuery("#name").attr("someAttr"),"0","Set attribute to a string of '0'"),jQuery("#name").attr("someAttr",0),equal(jQuery("#name").attr("someAttr"),"0","Set attribute to the number 0"),jQuery("#name").attr("someAttr",1),equal(jQuery("#name").attr("someAttr"),"1","Set attribute to the number 1"),f=jQuery("#nonnodes").contents(),f.attr("name","attrvalue"),equal(f.attr("name"),"attrvalue","Check node,textnode,comment for attr"),f.removeAttr("name"),l=jQuery("#check2").attr("type");try{jQuery("#check2").attr("type","hidden"),ok(!0,"No exception thrown on input type change")}catch(w){ok(!0,"Exception thrown on input type change: "+w)}c=document.createElement("input"),h=!0;try{jQuery(c).attr("type","checkbox")}catch(w){h=!1}ok(h,"Exception thrown when trying to change type property"),equal("checkbox",jQuery(c).attr("type"),"Verify that you can change the type of an input element that isn't in the DOM"),c=jQuery("<input />"),h=!0;try{c.attr("type","checkbox")}catch(w){h=!1}ok(h,"Exception thrown when trying to change type property"),equal("checkbox",c.attr("type"),"Verify that you can change the type of an input element that isn't in the DOM"),p=jQuery("#button");try{p.attr("type","submit"),ok(!0,"No exception thrown on button type change")}catch(w){ok(!0,"Exception thrown on button type change: "+w)}d=jQuery("<input>",{value:"sup",type:"radio"}).appendTo("#testForm"),equal(d.val(),"sup","Value is not reset when type is set after value on a radio"),m=jQuery("<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' baseProfile='full' width='200' height='200'><circle cx='200' cy='200' r='150' /></svg>").appendTo("body"),equal(m.attr("cx",100).attr("cx"),"100","Set attribute on svg element"),m.remove(),jQuery("#name").attr("maxlength","5").removeAttr("nonexisting"),equal(typeof jQuery("#name").attr("maxlength",undefined),"object",".attr('attribute', undefined) is chainable (#5571)"),equal(jQuery("#name").attr("maxlength",undefined).attr("maxlength"),"5",".attr('attribute', undefined) does not change value (#5571)"),equal(jQuery("#name").attr("nonexisting",undefined).attr("nonexisting"),undefined,".attr('attribute', undefined) does not create attribute (#5571)")}),test("attr(String, Object) - Loaded via XML document",function(){expect(2);var e=createDashboardXML(),t=[];jQuery("tab",e).each(function(){t.push(jQuery(this).attr("title"))}),equal(t[0],"Location","attr() in XML context: Check first title"),equal(t[1],"Users","attr() in XML context: Check second title")}),test("attr(String, Object) - Loaded via XML fragment",function(){expect(2);var e=createXMLFragment(),t=jQuery(e);t.attr("test","some value"),equal(t.attr("test"),"some value","set attribute"),t.attr("test",null),equal(t.attr("test"),undefined,"remove attribute")}),test("attr('tabindex')",function(){expect(8),equal(jQuery("#listWithTabIndex").attr("tabindex"),"5","not natively tabbable, with tabindex set to 0"),equal(jQuery("#divWithNoTabIndex").attr("tabindex"),undefined,"not natively tabbable, no tabindex set"),equal(jQuery("#linkWithNoTabIndex").attr("tabindex"),undefined,"anchor with href, no tabindex set"),equal(jQuery("#linkWithTabIndex").attr("tabindex"),"2","anchor with href, tabindex set to 2"),equal(jQuery("#linkWithNegativeTabIndex").attr("tabindex"),"-1","anchor with href, tabindex set to -1"),equal(jQuery("#linkWithNoHrefWithNoTabIndex").attr("tabindex"),undefined,"anchor without href, no tabindex set"),equal(jQuery("#linkWithNoHrefWithTabIndex").attr("tabindex"),"1","anchor without href, tabindex set to 2"),equal(jQuery("#linkWithNoHrefWithNegativeTabIndex").attr("tabindex"),"-1","anchor without href, no tabindex set")}),test("attr('tabindex', value)",function(){expect(9);var e=jQuery("#divWithNoTabIndex");equal(e.attr("tabindex"),undefined,"start with no tabindex"),e.attr("tabindex","1"),equal(e.attr("tabindex"),"1","set tabindex to 1 (string)"),e.attr("tabindex","0"),equal(e.attr("tabindex"),"0","set tabindex to 0 (string)"),e.attr("tabindex","-1"),equal(e.attr("tabindex"),"-1","set tabindex to -1 (string)"),e.attr("tabindex",1),equal(e.attr("tabindex"),"1","set tabindex to 1 (number)"),e.attr("tabindex",0),equal(e.attr("tabindex"),"0","set tabindex to 0 (number)"),e.attr("tabindex",-1),equal(e.attr("tabindex"),"-1","set tabindex to -1 (number)"),e=jQuery("#linkWithTabIndex"),equal(e.attr("tabindex"),"2","start with tabindex 2"),e.attr("tabindex",-1),equal(e.attr("tabindex"),"-1","set negative tabindex")}),test("removeAttr(String)",function(){expect(12);var e;equal(jQuery("#mark").removeAttr("class").attr("class"),undefined,"remove class"),equal(jQuery("#form").removeAttr("id").attr("id"),undefined,"Remove id"),equal(jQuery("#foo").attr("style","position:absolute;").removeAttr("style").attr("style"),undefined,"Check removing style attribute"),equal(jQuery("#form").attr("style","position:absolute;").removeAttr("style").attr("style"),undefined,"Check removing style attribute on a form"),equal(jQuery("<div style='position: absolute'></div>").appendTo("#foo").removeAttr("style").prop("style").cssText,"","Check removing style attribute (#9699 Webkit)"),equal(jQuery("#fx-test-group").attr("height","3px").removeAttr("height").get(0).style.height,"1px","Removing height attribute has no effect on height set with style attribute"),jQuery("#check1").removeAttr("checked").prop("checked",!0).removeAttr("checked"),equal(document.getElementById("check1").checked,!1,"removeAttr sets boolean properties to false"),jQuery("#text1").prop("readOnly",!0).removeAttr("readonly"),equal(document.getElementById("text1").readOnly,!1,"removeAttr sets boolean properties to false"),jQuery("#option2c").removeAttr("selected"),equal(jQuery("#option2d").attr("selected"),"selected","Removing `selected` from an option that is not selected does not remove selected from the currently selected option (#10870)");try{e=jQuery("#first").attr("contenteditable","true").removeAttr("contenteditable"),equal(e.attr("contenteditable"),undefined,"Remove the contenteditable attribute")}catch(t){ok(!1,"Removing contenteditable threw an error (#10429)")}e=jQuery("<div Case='mixed'></div>"),equal(e.attr("Case"),"mixed","case of attribute doesn't matter"),e.removeAttr("Case"),ok(!e.attr("Case"),"mixed-case attribute was removed")}),test("removeAttr(String) in XML",function(){expect(7);var e=createDashboardXML(),t=jQuery("infowindowtab",e);equal(t.attr("normal"),"ab","Check initial value"),t.removeAttr("Normal"),equal(t.attr("normal"),"ab","Should still be there"),t.removeAttr("normal"),equal(t.attr("normal"),undefined,"Removed"),equal(t.attr("mixedCase"),"yes","Check initial value"),equal(t.attr("mixedcase"),undefined,"toLowerCase not work good"),t.removeAttr("mixedcase"),equal(t.attr("mixedCase"),"yes","Should still be there"),t.removeAttr("mixedCase"),equal(t.attr("mixedCase"),undefined,"Removed")}),test("removeAttr(Multi String, variable space width)",function(){expect(8);var e=jQuery("<div id='a' alt='b' title='c' rel='d'></div>"),t={id:"a",alt:"b",title:"c",rel:"d"};jQuery.each(t,function(t,n){equal(e.attr(t),n,"Attribute `"+t+"` exists, and has a value of `"+n+"`")}),e.removeAttr("id   alt title  rel  "),jQuery.each(t,function(t){equal(e.attr(t),undefined,"Attribute `"+t+"` was removed")})}),test("prop(String, Object)",function(){expect(31),equal(jQuery("#text1").prop("value"),"Test","Check for value attribute"),equal(jQuery("#text1").prop("value","Test2").prop("defaultValue"),"Test","Check for defaultValue attribute"),equal(jQuery("#select2").prop("selectedIndex"),3,"Check for selectedIndex attribute"),equal(jQuery("#foo").prop("nodeName").toUpperCase(),"DIV","Check for nodeName attribute"),equal(jQuery("#foo").prop("tagName").toUpperCase(),"DIV","Check for tagName attribute"),equal(jQuery("<option/>").prop("selected"),!1,"Check selected attribute on disconnected element."),equal(jQuery("#listWithTabIndex").prop("tabindex"),5,"Check retrieving tabindex"),jQuery("#text1").prop("readonly",!0),equal(document.getElementById("text1").readOnly,!0,"Check setting readOnly property with 'readonly'"),equal(jQuery("#label-for").prop("for"),"action","Check retrieving htmlFor"),jQuery("#text1").prop("class","test"),equal(document.getElementById("text1").className,"test","Check setting className with 'class'"),equal(jQuery("#text1").prop("maxlength"),30,"Check retrieving maxLength"),jQuery("#table").prop("cellspacing",1),equal(jQuery("#table").prop("cellSpacing"),"1","Check setting and retrieving cellSpacing"),jQuery("#table").prop("cellpadding",1),equal(jQuery("#table").prop("cellPadding"),"1","Check setting and retrieving cellPadding"),jQuery("#table").prop("rowspan",1),equal(jQuery("#table").prop("rowSpan"),1,"Check setting and retrieving rowSpan"),jQuery("#table").prop("colspan",1),equal(jQuery("#table").prop("colSpan"),1,"Check setting and retrieving colSpan"),jQuery("#table").prop("usemap",1),equal(jQuery("#table").prop("useMap"),1,"Check setting and retrieving useMap"),jQuery("#table").prop("frameborder",1),equal(jQuery("#table").prop("frameBorder"),1,"Check setting and retrieving frameBorder"),QUnit.reset();var e,t,n,r,i,s,o,u,a=document.body,f=jQuery(a);ok(f.prop("nextSibling")===null,"Make sure a null expando returns null"),a.foo="bar",equal(f.prop("foo"),"bar","Make sure the expando is preferred over the dom attribute"),a.foo=undefined,ok(f.prop("foo")===undefined,"Make sure the expando is preferred over the dom attribute, even if undefined"),e=document.createElement("select"),t=document.createElement("optgroup"),n=document.createElement("option"),t.appendChild(n),e.appendChild(t),equal(jQuery(n).prop("selected"),!0,"Make sure that a single option is selected, even when in an optgroup."),equal(jQuery(document).prop("nodeName"),"#document","prop works correctly on document nodes (bug #7451)."),r=document.createAttribute("irrelevant"),i=document.createComment("some comment"),s=document.createTextNode("some text"),o={},jQuery.each([document,r,i,s,o,"#firstp"],function(e,t){strictEqual(jQuery(t).prop("nonexisting"),undefined,"prop works correctly for non existing attributes (bug #7500).")}),o={},jQuery.each([document,o],function(e,t){var n=jQuery(t);n.prop("nonexisting","foo"),equal(n.prop("nonexisting"),"foo","prop(name, value) works correctly for non existing attributes (bug #7500).")}),jQuery(document).removeProp("nonexisting"),u=jQuery("#form").prop("enctype","multipart/form-data"),equal(u.prop("enctype"),"multipart/form-data","Set the enctype of a form (encoding in IE6/7 #6743)")}),test("prop('tabindex')",function(){expect(11),equal(jQuery("#inputWithoutTabIndex").prop("tabindex"),0,"input without tabindex"),equal(jQuery("#buttonWithoutTabIndex").prop("tabindex"),0,"button without tabindex"),equal(jQuery("#textareaWithoutTabIndex").prop("tabindex"),0,"textarea without tabindex"),equal(jQuery("#listWithTabIndex").prop("tabindex"),5,"not natively tabbable, with tabindex set to 0"),equal(jQuery("#divWithNoTabIndex").prop("tabindex"),-1,"not natively tabbable, no tabindex set"),equal(jQuery("#linkWithNoTabIndex").prop("tabindex"),0,"anchor with href, no tabindex set"),equal(jQuery("#linkWithTabIndex").prop("tabindex"),2,"anchor with href, tabindex set to 2"),equal(jQuery("#linkWithNegativeTabIndex").prop("tabindex"),-1,"anchor with href, tabindex set to -1"),equal(jQuery("#linkWithNoHrefWithNoTabIndex").prop("tabindex"),-1,"anchor without href, no tabindex set"),equal(jQuery("#linkWithNoHrefWithTabIndex").prop("tabindex"),1,"anchor without href, tabindex set to 2"),equal(jQuery("#linkWithNoHrefWithNegativeTabIndex").prop("tabindex"),-1,"anchor without href, no tabindex set")}),test("prop('tabindex', value)",10,function(){var e,t=jQuery("#divWithNoTabIndex");equal(t.prop("tabindex"),-1,"start with no tabindex"),t.prop("tabindex","1"),equal(t.prop("tabindex"),1,"set tabindex to 1 (string)"),t.prop("tabindex","0"),equal(t.prop("tabindex"),0,"set tabindex to 0 (string)"),t.prop("tabindex","-1"),equal(t.prop("tabindex"),-1,"set tabindex to -1 (string)"),t.prop("tabindex",1),equal(t.prop("tabindex"),1,"set tabindex to 1 (number)"),t.prop("tabindex",0),equal(t.prop("tabindex"),0,"set tabindex to 0 (number)"),t.prop("tabindex",-1),equal(t.prop("tabindex"),-1,"set tabindex to -1 (number)"),t=jQuery("#linkWithTabIndex"),equal(t.prop("tabindex"),2,"start with tabindex 2"),t.prop("tabindex",-1),equal(t.prop("tabindex"),-1,"set negative tabindex"),e=t.clone(),e.prop("tabindex",1),equal(e[0].getAttribute("tabindex"),"1","set tabindex on cloned element")}),test("removeProp(String)",function(){expect(6);var e=document.createAttribute("irrelevant"),t=document.createComment("some comment"),n=document.createTextNode("some text"),r={};strictEqual(jQuery("#firstp").prop("nonexisting","foo").removeProp("nonexisting")[0].nonexisting,undefined,"removeprop works correctly on DOM element nodes"),jQuery.each([document,r],function(e,t){var n=jQuery(t);n.prop("nonexisting","foo").removeProp("nonexisting"),strictEqual(t.nonexisting,undefined,"removeProp works correctly on non DOM element nodes (bug #7500).")}),jQuery.each([t,n,e],function(e,t){var n=jQuery(t);n.prop("nonexisting","foo").removeProp("nonexisting"),strictEqual(t.nonexisting,undefined,"removeProp works correctly on non DOM element nodes (bug #7500).")})}),test("val()",function(){expect(21+(jQuery.fn.serialize?6:0));var e,t;document.getElementById("text1").value="bla",equal(jQuery("#text1").val(),"bla","Check for modified value of input element"),QUnit.reset(),equal(jQuery("#text1").val(),"Test","Check for value of input element"),equal(jQuery("#first").val(),"","Check a paragraph element to see if it has a value"),ok(jQuery([]).val()===undefined,"Check an empty jQuery object will return undefined from val"),equal(jQuery("#select2").val(),"3","Call val() on a single='single' select"),deepEqual(jQuery("#select3").val(),["1","2"],"Call val() on a multiple='multiple' select"),equal(jQuery("#option3c").val(),"2","Call val() on a option element with value"),equal(jQuery("#option3a").val(),"","Call val() on a option element with empty value"),equal(jQuery("#option3e").val(),"no value","Call val() on a option element with no value attribute"),equal(jQuery("#option3a").val(),"","Call val() on a option element with no value attribute"),jQuery("#select3").val(""),deepEqual(jQuery("#select3").val(),[""],"Call val() on a multiple='multiple' select"),deepEqual(jQuery("#select4").val(),[],"Call val() on multiple='multiple' select with all disabled options"),jQuery("#select4 optgroup").add("#select4 > [disabled]").attr("disabled",!1),deepEqual(jQuery("#select4").val(),["2","3"],"Call val() on multiple='multiple' select with some disabled options"),jQuery("#select4").attr("disabled",!0),deepEqual(jQuery("#select4").val(),["2","3"],"Call val() on disabled multiple='multiple' select"),equal(jQuery("#select5").val(),"3","Check value on ambiguous select."),jQuery("#select5").val(1),equal(jQuery("#select5").val(),"1","Check value on ambiguous select."),jQuery("#select5").val(3),equal(jQuery("#select5").val(),"3","Check value on ambiguous select."),strictEqual(jQuery("<select name='select12584' id='select12584'><option value='1' disabled='disabled'>1</option></select>").val(),null,"Select-one with only option disabled (#12584)"),jQuery.fn.serialize&&(e=jQuery("<input type='checkbox' name='test' value='1'/><input type='checkbox' name='test' value='2'/><input type='checkbox' name='test' value=''/><input type='checkbox' name='test'/>").appendTo("#form"),deepEqual(e.serialize(),"","Get unchecked values."),equal(e.eq(3).val(),"on","Make sure a value of 'on' is provided if none is specified."),e.val(["2"]),deepEqual(e.serialize(),"test=2","Get a single checked value."),e.val(["1",""]),deepEqual(e.serialize(),"test=1&test=","Get multiple checked values."),e.val(["","2"]),deepEqual(e.serialize(),"test=2&test=","Get multiple checked values."),e.val(["1","on"]),deepEqual(e.serialize(),"test=1&test=on","Get multiple checked values."),e.remove()),t=jQuery("<button value='foobar'>text</button>").insertAfter("#button"),equal(t.val(),"foobar","Value retrieval on a button does not return innerHTML"),equal(t.val("baz").html(),"text","Setting the value does not change innerHTML"),equal(jQuery("<option/>").val("test").attr("value"),"test","Setting value sets the value attribute")}),test("val() with non-matching values on dropdown list",function(){expect(3),jQuery("#select5").val(""),equal(jQuery("#select5").val(),null,"Non-matching set on select-one");var e=jQuery('<select multiple id="select6"><option value="1">A</option><option value="2">B</option></select>').appendTo("#form");jQuery(e).val("nothing"),equal(jQuery(e).val(),null,"Non-matching set (single value) on select-multiple"),jQuery(e).val(["nothing1","nothing2"]),equal(jQuery(e).val(),null,"Non-matching set (array of values) on select-multiple"),e.remove()}),"value"in document.createElement("meter")&&"value"in document.createElement("progress")&&test("val() respects numbers without exception (Bug #9319)",function(){expect(4);var e=jQuery("<meter min='0' max='10' value='5.6'></meter>"),t=jQuery("<progress max='10' value='1.5'></progress>");try{equal(typeof e.val(),"number","meter, returns a number and does not throw exception"),equal(e.val(),e[0].value,"meter, api matches host and does not throw exception"),equal(typeof t.val(),"number","progress, returns a number and does not throw exception"),equal(t.val(),t[0].value,"progress, api matches host and does not throw exception")}catch(n){}e.remove(),t.remove()});var testVal=function(e){expect(8),QUnit.reset(),jQuery("#text1").val(e("test")),equal(document.getElementById("text1").value,"test","Check for modified (via val(String)) value of input element"),jQuery("#text1").val(e(undefined)),equal(document.getElementById("text1").value,"","Check for modified (via val(undefined)) value of input element"),jQuery("#text1").val(e(67)),equal(document.getElementById("text1").value,"67","Check for modified (via val(Number)) value of input element"),jQuery("#text1").val(e(null)),equal(document.getElementById("text1").value,"","Check for modified (via val(null)) value of input element");var t,n=jQuery("#select1");n.val(e("3")),equal(n.val(),"3","Check for modified (via val(String)) value of select element"),n.val(e(2)),equal(n.val(),"2","Check for modified (via val(Number)) value of select element"),n.append("<option value='4'>four</option>"),n.val(e(4)),equal(n.val(),"4","Should be possible to set the val() to a newly created option"),t=jQuery("#nonnodes").contents(),t.val(e("asdf")),equal(t.val(),"asdf","Check node,textnode,comment with val()"),t.removeAttr("value")};test("val(String/Number)",function(){testVal(bareObj)}),test("val(Function)",function(){testVal(functionReturningObj)}),test("val(Array of Numbers) (Bug #7123)",function(){expect(4),jQuery("#form").append("<input type='checkbox' name='arrayTest' value='1' /><input type='checkbox' name='arrayTest' value='2' /><input type='checkbox' name='arrayTest' value='3' checked='checked' /><input type='checkbox' name='arrayTest' value='4' />");var e=jQuery("input[name=arrayTest]").val([1,2]);ok(e[0].checked,"First element was checked"),ok(e[1].checked,"Second element was checked"),ok(!e[2].checked,"Third element was unchecked"),ok(!e[3].checked,"Fourth element remained unchecked"),e.remove()}),test("val(Function) with incoming value",function(){expect(10),QUnit.reset();var e=jQuery("#text1").val();jQuery("#text1").val(function(t,n){return equal(n,e,"Make sure the incoming value is correct."),"test"}),equal(document.getElementById("text1").value,"test","Check for modified (via val(String)) value of input element"),e=jQuery("#text1").val(),jQuery("#text1").val(function(t,n){return equal(n,e,"Make sure the incoming value is correct."),67}),equal(document.getElementById("text1").value,"67","Check for modified (via val(Number)) value of input element"),e=jQuery("#select1").val(),jQuery("#select1").val(function(t,n){return equal(n,e,"Make sure the incoming value is correct."),"3"}),equal(jQuery("#select1").val(),"3","Check for modified (via val(String)) value of select element"),e=jQuery("#select1").val(),jQuery("#select1").val(function(t,n){return equal(n,e,"Make sure the incoming value is correct."),2}),equal(jQuery("#select1").val(),"2","Check for modified (via val(Number)) value of select element"),jQuery("#select1").append("<option value='4'>four</option>"),e=jQuery("#select1").val(),jQuery("#select1").val(function(t,n){return equal(n,e,"Make sure the incoming value is correct."),4}),equal(jQuery("#select1").val(),"4","Should be possible to set the val() to a newly created option")}),test("val(select) after form.reset() (Bug #2551)",function(){expect(3),jQuery("<form id='kk' name='kk'><select id='kkk'><option value='cf'>cf</option><option value='gf'>gf</option></select></form>").appendTo("#qunit-fixture"),jQuery("#kkk").val("gf"),document.kk.reset(),equal(jQuery("#kkk")[0].value,"cf","Check value of select after form reset."),equal(jQuery("#kkk").val(),"cf","Check value of select after form reset."),deepEqual(jQuery("#select3").val(),["1","2"],"Call val() on a multiple='multiple' select"),jQuery("#kk").remove()});var testAddClass=function(e){expect(9);var t,n,r,i=jQuery("#qunit-fixture div");i.addClass(e("test")),t=!0;for(r=0;r<i.length;r++)~i.get(r).className.indexOf("test")||(t=!1);ok(t,"Add Class"),n=jQuery("#nonnodes").contents(),n.addClass(e("asdf")),ok(n.hasClass("asdf"),"Check node,textnode,comment for addClass"),i=jQuery("<div/>"),i.addClass(e("test")),equal(i.attr("class"),"test","Make sure there's no extra whitespace."),i.attr("class"," foo"),i.addClass(e("test")),equal(i.attr("class"),"foo test","Make sure there's no extra whitespace."),i.attr("class","foo"),i.addClass(e("bar baz")),equal(i.attr("class"),"foo bar baz","Make sure there isn't too much trimming."),i.removeClass(),i.addClass(e("foo")).addClass(e("foo")),equal(i.attr("class"),"foo","Do not add the same class twice in separate calls."),i.addClass(e("fo")),equal(i.attr("class"),"foo fo","Adding a similar class does not get interrupted."),i.removeClass().addClass("wrap2"),ok(i.addClass("wrap").hasClass("wrap"),"Can add similarly named classes"),i.removeClass(),i.addClass(e("bar bar")),equal(i.attr("class"),"bar","Do not add the same class twice in the same call.")};test("addClass(String)",function(){testAddClass(bareObj)}),test("addClass(Function)",function(){testAddClass(functionReturningObj)}),test("addClass(Function) with incoming value",function(){expect(52);var e,t,n=jQuery("#qunit-fixture div"),r=n.map(function(){return jQuery(this).attr("class")||""});n.addClass(function(e,t){if(this.id!=="_firebugConsole")return equal(t,r[e],"Make sure the incoming value is correct."),"test"}),e=!0;for(t=0;t<n.length;t++)n.get(t).className.indexOf("test")===-1&&(e=!1);ok(e,"Add Class")});var testRemoveClass=function(e){expect(8);var t=jQuery("#qunit-fixture div"),n=document.createElement("div");t.addClass("test").removeClass(e("test")),ok(!t.is(".test"),"Remove Class"),t.addClass("test").addClass("foo").addClass("bar"),t.removeClass(e("test")).removeClass(e("bar")).removeClass(e("foo")),ok(!t.is(".test,.bar,.foo"),"Remove multiple classes"),t.eq(0).addClass("expected").removeClass(e(null)),ok(t.eq(0).is(".expected"),"Null value passed to removeClass"),t.eq(0).addClass("expected").removeClass(e("")),ok(t.eq(0).is(".expected"),"Empty string passed to removeClass"),t=jQuery("#nonnodes").contents(),t.removeClass(e("asdf")),ok(!t.hasClass("asdf"),"Check node,textnode,comment for removeClass"),jQuery(n).removeClass(e("foo")),strictEqual(jQuery(n).attr("class"),undefined,"removeClass doesn't create a class attribute"),n.className=" test foo ",jQuery(n).removeClass(e("foo")),equal(n.className,"test","Make sure remaining className is trimmed."),n.className=" test ",jQuery(n).removeClass(e("test")),equal(n.className,"","Make sure there is nothing left after everything is removed.")};test("removeClass(String) - simple",function(){testRemoveClass(bareObj)}),test("removeClass(Function) - simple",function(){testRemoveClass(functionReturningObj)}),test("removeClass(Function) with incoming value",function(){expect(52);var e=jQuery("#qunit-fixture div").addClass("test"),t=e.map(function(){return jQuery(this).attr("class")});e.removeClass(function(e,n){if(this.id!=="_firebugConsole")return equal(n,t[e],"Make sure the incoming value is correct."),"test"}),ok(!e.is(".test"),"Remove Class")}),test("removeClass() removes duplicates",function(){expect(1);var e=jQuery(jQuery.parseHTML("<div class='x x x'></div>"));e.removeClass("x"),ok(!e.hasClass("x"),"Element with multiple same classes does not escape the wrath of removeClass()")}),test("removeClass(undefined) is a no-op",function(){expect(1);var e=jQuery("<div class='base second'></div>");e.removeClass(undefined),ok(e.hasClass("base")&&e.hasClass("second"),"Element still has classes after removeClass(undefined)")});var testToggleClass=function(e){expect(17);var t=jQuery("#firstp");ok(!t.is(".test"),"Assert class not present"),t.toggleClass(e("test")),ok(t.is(".test"),"Assert class present"),t.toggleClass(e("test")),ok(!t.is(".test"),"Assert class not present"),t.toggleClass(e("test"),!1),ok(!t.is(".test"),"Assert class not present"),t.toggleClass(e("test"),!0),ok(t.is(".test"),"Assert class present"),t.toggleClass(e("test"),!1),ok(!t.is(".test"),"Assert class not present"),t.addClass("testA testB"),ok(t.is(".testA.testB"),"Assert 2 different classes present"),t.toggleClass(e("testB testC")),ok(t.is(".testA.testC")&&!t.is(".testB"),"Assert 1 class added, 1 class removed, and 1 class kept"),t.toggleClass(e("testA testC")),ok(!t.is(".testA")&&!t.is(".testB")&&!t.is(".testC"),"Assert no class present"),t.toggleClass(!0),ok(t[0].className==="","Assert class is empty (data was empty)"),t.addClass("testD testE"),ok(t.is(".testD.testE"),"Assert class present"),t.toggleClass(),ok(!t.is(".testD.testE"),"Assert class not present"),ok(jQuery._data(t[0],"__className__")==="testD testE","Assert data was stored"),t.toggleClass(),ok(t.is(".testD.testE"),"Assert class present (restored from data)"),t.toggleClass(!1),ok(!t.is(".testD.testE"),"Assert class not present"),t.toggleClass(!0),ok(t.is(".testD.testE"),"Assert class present (restored from data)"),t.toggleClass(),t.toggleClass(!1),t.toggleClass(),ok(t.is(".testD.testE"),"Assert class present (restored from data)"),t.removeClass("testD"),QUnit.expectJqData(t[0],"__className__")};test("toggleClass(String|boolean|undefined[, boolean])",function(){testToggleClass(bareObj)}),test("toggleClass(Function[, boolean])",function(){testToggleClass(functionReturningObj)}),test("toggleClass(Function[, boolean]) with incoming value",function(){expect(14);var e=jQuery("#firstp"),t=e.attr("class")||"";ok(!e.is(".test"),"Assert class not present"),e.toggleClass(function(e,n){return equal(t,n,"Make sure the incoming value is correct."),"test"}),ok(e.is(".test"),"Assert class present"),t=e.attr("class"),e.toggleClass(function(e,n){return equal(t,n,"Make sure the incoming value is correct."),"test"}),ok(!e.is(".test"),"Assert class not present"),t=e.attr("class")||"",e.toggleClass(function(e,n,r){return equal(t,n,"Make sure the incoming value is correct."),equal(r,!1,"Make sure that the state is passed in."),"test"},!1),ok(!e.is(".test"),"Assert class not present"),t=e.attr("class")||"",e.toggleClass(function(e,n,r){return equal(t,n,"Make sure the incoming value is correct."),equal(r,!0,"Make sure that the state is passed in."),"test"},!0),ok(e.is(".test"),"Assert class present"),t=e.attr("class"),e.toggleClass(function(e,n,r){return equal(t,n,"Make sure the incoming value is correct."),equal(r,!1,"Make sure that the state is passed in."),"test"},!1),ok(!e.is(".test"),"Assert class not present")}),test("addClass, removeClass, hasClass",function(){expect(17);var e=jQuery("<p>Hi</p>"),t=e[0];e.addClass("hi"),equal(t.className,"hi","Check single added class"),e.addClass("foo bar"),equal(t.className,"hi foo bar","Check more added classes"),e.removeClass(),equal(t.className,"","Remove all classes"),e.addClass("hi foo bar"),e.removeClass("foo"),equal(t.className,"hi bar","Check removal of one class"),ok(e.hasClass("hi"),"Check has1"),ok(e.hasClass("bar"),"Check has2"),e=jQuery("<p class='class1\nclass2	cla.ss3\n\rclass4'></p>"),ok(e.hasClass("class1"),"Check hasClass with line feed"),ok(e.is(".class1"),"Check is with line feed"),ok(e.hasClass("class2"),"Check hasClass with tab"),ok(e.is(".class2"),"Check is with tab"),ok(e.hasClass("cla.ss3"),"Check hasClass with dot"),ok(e.hasClass("class4"),"Check hasClass with carriage return"),ok(e.is(".class4"),"Check is with carriage return"),e.removeClass("class2"),ok(e.hasClass("class2")===!1,"Check the class has been properly removed"),e.removeClass("cla"),ok(e.hasClass("cla.ss3"),"Check the dotted class has not been removed"),e.removeClass("cla.ss3"),ok(e.hasClass("cla.ss3")===!1,"Check the dotted class has been removed"),e.removeClass("class4"),ok(e.hasClass("class4")===!1,"Check the class has been properly removed")}),test("contents().hasClass() returns correct values",function(){expect(2);var e=jQuery("<div><span class='foo'></span><!-- comment -->text</div>"),t=e.contents();ok(t.hasClass("foo"),"Found 'foo' in $contents"),ok(!t.hasClass("undefined"),"Did not find 'undefined' in $contents (correctly)")}),test("hasClass correctly interprets non-space separators (#13835)",function(){expect(4);var e={tab:"&#9;","line-feed":"&#10;","form-feed":"&#12;","carriage-return":"&#13;"},t=jQuery.map(e,function(e,t){return" "+e+t+e+" "}),n=jQuery("<div class='"+t+"'></div>");jQuery.each(e,function(e){ok(n.hasClass(e),e.replace("-"," "))})}),test("coords returns correct values in IE6/IE7, see #10828",function(){expect(1);var e,t=jQuery("<map />");e=t.html("<area shape='rect' coords='0,0,0,0' href='#' alt='a' />").find("area"),equal(e.attr("coords"),"0,0,0,0","did not retrieve coords correctly")});