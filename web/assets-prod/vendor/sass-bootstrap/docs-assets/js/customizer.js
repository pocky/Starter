/*!
 * Copyright 2013 Twitter, Inc.
 *
 * Licensed under the Creative Commons Attribution 3.0 Unported License. For
 * details, see http://creativecommons.org/licenses/by/3.0/.
 */

window.onload=function(){function t(e,t){throw $('<div id="bsCustomizerAlert" class="bs-customizer-alert">        <div class="container">          <a href="#bsCustomizerAlert" data-dismiss="alert" class="close pull-right">&times;</a>          <p class="bs-customizer-alert-text"><span class="glyphicon glyphicon-warning-sign"></span>'+e+"</p>"+(t.extract?'<pre class="bs-customizer-alert-extract">'+t.extract.join("\n")+"</pre>":"")+"        </div>      </div>").appendTo("body").alert(),t}function n(e,t){var n=$('<div class="bs-callout bs-callout-danger">       <h4>Attention!</h4>      <p>'+e+"</p>    </div>");t?n.appendTo(".bs-docs-container"):n.insertAfter(".bs-customize-download")}function r(e){e=e.replace(/[*+?^$.\[\]{}()|\\\/]/g,"\\$&");var t=location.search.match(new RegExp("[?&]"+e+"=([^&]+)(&|$)"));return t&&decodeURIComponent(t[1].replace(/\+/g," "))}function i(e){var n={description:"Bootstrap Customizer Config","public":!0,files:{"config.json":{content:e}}};$.ajax({url:"https://api.github.com/gists",type:"POST",dataType:"json",data:JSON.stringify(n)}).success(function(e){var t=window.location.protocol+"//"+window.location.host;history.replaceState(!1,document.title,t+window.location.pathname+"?id="+e.id)}).error(function(e){t("<strong>Ruh roh!</strong> Could not save gist file, configuration not saved.",e)})}function s(){var e={};$("#less-variables-section input").each(function(){$(this).val()&&(e[$(this).prev().text()]=$(this).val())});var t={vars:e,css:$("#less-section input:checked").map(function(){return this.value}).toArray(),js:$("#plugin-section input:checked").map(function(){return this.value}).toArray()};if($.isEmptyObject(t.vars)&&!t.css.length&&!t.js.length)return;return t}function o(){var e=r("id");if(!e)return;$.ajax({url:"https://api.github.com/gists/"+e,type:"GET",dataType:"json"}).success(function(e){var t=JSON.parse(e.files["config.json"].content);t.js&&$("#plugin-section input").each(function(){$(this).prop("checked",~$.inArray(this.value,t.js))}),t.css&&$("#less-section input").each(function(){$(this).prop("checked",~$.inArray(this.value,t.css))});if(t.vars)for(var n in t.vars)$('input[data-var="'+n+'"]').val(t.vars[n])}).error(function(e){t("Error fetching bootstrap config file",e)})}function u(e,n,r,i,s){if(!e&&!n)return t("<strong>Ruh roh!</strong> No Bootstrap files selected.",new Error("no Bootstrap"));var o=new JSZip;if(e){var u=o.folder("css");for(var a in e)u.file(a,e[a])}if(n){var f=o.folder("js");for(var a in n)f.file(a,n[a])}if(r){var l=o.folder("fonts");for(var a in r)l.file(a,r[a],{base64:!0})}i&&o.file("config.json",i);var c=o.generate({type:"blob"});s(c)}function a(e){var t="";for(var n in e)t+=n+": "+e[n]+";\n";return t+"\n\n"}function f(){var e=$('#less-section [value="glyphicons.less"]:checked');if(e.length)return __fonts}function l(){var e=/^@import \"(.*?)\";$/,t=__less["bootstrap.less"].split("\n");for(var n=0,r=[];n<t.length;n++){var i=e.exec(t[n]);i&&r.push(i[1])}return r}function c(){var n=!1,r={};$("#less-section input").each(function(){var e=$(this),t=e.is(":checked");r[e.val()]=t,n=n||t});if(!n)return!1;var i={},s={},o="";$("#less-variables-section input").each(function(){$(this).val()&&(s[$(this).prev().text()]=$(this).val())}),$.each(l(),function(e,t){var n=r[t];if(n||n==null)o+=__less[t];"variables.less"===t&&s&&(o+=a(s))}),o=o.replace(/@import[^\n]*/gi,"");try{var u=(new less.Parser({paths:["variables.less","mixins.less"],optimization:0,filename:"bootstrap.css"})).parse(o,function(n,r){if(n)return t("<strong>Ruh roh!</strong> Could not parse less files.",n);i={"bootstrap.css":e+r.toCSS(),"bootstrap.min.css":e+r.toCSS({compress:!0})}})}catch(f){return t("<strong>Ruh roh!</strong> Could not parse less files.",f)}return i}function h(){var t=$("#plugin-section input:checked");if(!t.length)return!1;var n=t.map(function(){return __js[this.value]}).toArray().join("\n");return{"bootstrap.js":n,"bootstrap.min.js":e+uglify(n)}}var e="/*!\n * Bootstrap v3.0.2\n *\n * Copyright 2013 Twitter, Inc\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Designed and built with all the love in the world @twitter by @mdo and @fat.\n */\n\n",p=$("#less-section input"),d=$("#plugin-section input"),v=$("#less-variables-section input");$("#less-section .toggle").on("click",function(e){e.preventDefault(),p.prop("checked",!p.is(":checked"))}),$("#plugin-section .toggle").on("click",function(e){e.preventDefault(),d.prop("checked",!d.is(":checked"))}),$("#less-variables-section .toggle").on("click",function(e){e.preventDefault(),v.val("")}),$("[data-dependencies]").on("click",function(){if(!$(this).is(":checked"))return;var e=this.getAttribute("data-dependencies");if(!e)return;e=e.split(",");for(var t=0;t<e.length;t++){var n=$('[value="'+e[t]+'"]');n&&n.prop("checked",!0)}}),$("[data-dependents]").on("click",function(){if($(this).is(":checked"))return;var e=this.getAttribute("data-dependents");if(!e)return;e=e.split(",");for(var t=0;t<e.length;t++){var n=$('[value="'+e[t]+'"]');n&&n.prop("checked",!1)}});var m=$("#btn-compile"),g=$("#btn-download");m.on("click",function(e){var t=s(),n=JSON.stringify(t,null,2);e.preventDefault(),m.attr("disabled","disabled"),u(c(),h(),f(),n,function(e){m.removeAttr("disabled"),saveAs(e,"bootstrap.zip"),i(n)})}),!window.URL&&navigator.userAgent.toLowerCase().indexOf("safari")!=-1?n('Looks like you\'re using safari, which sadly doesn\'t have the best support                 for HTML5 blobs. Because of this your file will be downloaded with the name <code>"untitled"</code>.                 However, if you check your downloads folder, just rename this <code>"untitled"</code> file                 to <code>"bootstrap.zip"</code> and you should be good to go!'):!window.URL&&!window.webkitURL&&($(".bs-docs-section, .bs-sidebar").css("display","none"),n('Looks like your current browser doesn\'t support the Bootstrap Customizer. Please take a second                to <a href="https://www.google.com/intl/en/chrome/browser/"> upgrade to a more modern browser</a>.',!0)),o()};